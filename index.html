<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simulador Solar</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: #f2f6f3;
      color: #333;
      padding: 20px;
    }
    .container {
      background: #fff;
      padding: 30px;
      max-width: 700px;
      margin: auto;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    h2 {
      text-align: center;
      color: #2e7d32;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin: 10px 0 20px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      background: #4caf50;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
    }
    button:hover {
      background: #45a049;
    }
    .result {
      margin-top: 20px;
      padding: 15px;
      background: #e8f5e9;
      border-left: 4px solid #2e7d32;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Simulador de Sistema Fotovoltaico</h2>

    <input type="text" id="nome" placeholder="Nome completo" required>
    <input type="text" id="cpf" placeholder="CPF" required>
    <input type="tel" id="telefone" placeholder="Telefone" required>
    <input type="text" id="cep" placeholder="CEP" required onblur="buscarEndereco()">
    <input type="text" id="endereco" placeholder="Endereço completo" disabled>
    <input type="number" id="consumo" placeholder="Consumo mensal (kWh)" required>

    <label for="equipamento">Adicionar equipamentos:</label>
    <select id="equipamento">
      <option value="geladeira">Geladeira (250W)</option>
      <option value="tv">Televisão (150W)</option>
      <option value="chuveiro">Chuveiro elétrico (4000W)</option>
      <option value="ar">Ar-condicionado (1200W)</option>
      <option value="carro">Carro elétrico (7000W)</option>
    </select>
    <input type="number" id="quantidade" placeholder="Quantidade" value="1">
    <button onclick="adicionarEquipamento()">Adicionar Equipamento</button>

    <ul id="lista-equipamentos"></ul>

    <button onclick="enviarParaEspecialista()">Enviar para um especialista</button>

    <div class="result" id="resultado" style="display:none"></div>

    <p style="font-size: 0.9rem; margin-top: 20px; color: #555; text-align: center;">
      *Esta é apenas uma simulação. Os valores apresentados podem variar de acordo com condições reais de instalação, como sombreamento, orientação do telhado e irradiação solar local.
    </p>
  </div>

  <script>
    let equipamentos = [];

    function buscarEndereco() {
      const cep = document.getElementById("cep").value;
      if (!cep) return;
      fetch(`https://viacep.com.br/ws/${cep}/json/`)
        .then(res => res.json())
        .then(data => {
          document.getElementById("endereco").value = `${data.logradouro}, ${data.bairro}, ${data.localidade}`;
        });
    }

    function adicionarEquipamento() {
      const equipamento = document.getElementById("equipamento").value;
      const quantidade = parseInt(document.getElementById("quantidade").value);
      equipamentos.push({ equipamento, quantidade });
      atualizarLista();
    }

    function atualizarLista() {
      const lista = document.getElementById("lista-equipamentos");
      lista.innerHTML = "";
      equipamentos.forEach(e => {
        const item = document.createElement("li");
        item.innerText = `${e.quantidade}x ${e.equipamento}`;
        lista.appendChild(item);
      });
    }

    function enviarParaEspecialista() {
      const nome = document.getElementById("nome").value;
      const cpf = document.getElementById("cpf").value;
      const telefone = document.getElementById("telefone").value;
      const endereco = document.getElementById("endereco").value;
      const consumo = document.getElementById("consumo").value;

      if (!nome || !cpf || !telefone || !endereco || !consumo) {
        alert("Preencha todos os campos obrigatórios.");
        return;
      }

      const consumoTotal = parseInt(consumo);
      const placas = Math.ceil(consumoTotal / 40);
      const area = placas * 2;
      const economia = consumoTotal * 0.8;
      const retorno = 5;

      document.getElementById("resultado").innerHTML = `
        <h3>Resultado da Simulação</h3>
        <p><strong>Nome:</strong> ${nome}</p>
        <p><strong>Telefone:</strong> ${telefone}</p>
        <p><strong>Endereço:</strong> ${endereco}</p>
        <p><strong>Consumo:</strong> ${consumoTotal} kWh/mês</p>
        <p><strong>Placas:</strong> ${placas}</p>
        <p><strong>Área:</strong> ${area} m²</p>
        <p><strong>Economia:</strong> R$ ${economia.toFixed(2)}/mês</p>
        <p><strong>Retorno:</strong> ${retorno} anos</p>
      `;
      document.getElementById("resultado").style.display = 'block';
    }
  </script>
</body>
</html>
